<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Assignments | CORE Campus</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="../../assets/css/shared/sidebar.css">
    <link rel="stylesheet" href="../../assets/css/teacher/dashboard.css">
    <link rel="stylesheet" href="../../assets/css/teacher/assignments.css">
    <link rel="stylesheet" href="../../assets/css/shared/utilities.css">
    <link rel="stylesheet" href="../../assets/css/components/profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>

    <div class="app-container">
        <!-- Sidebar placeholder -->
        <div id="sidebar-container"></div>

        <main class="main-content">

            <!-- Top Header -->
            <header class="top-bar">
                <div class="page-title">
                    <h1>Manage Assignments</h1>
                    <p class="date-display">Create and grade assignments</p>
                </div>

                <div class="top-actions">
                    <button id="createBtn" onclick="window.location.href='edit-assignment.html?mode=create'"
                        style="padding: 10px 20px; background: #003366; color: white; border: none; border-radius: 8px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-plus"></i> Create New
                    </button>
                </div>
            </header>

            <!-- Controls -->
            <div class="controls-section">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search assignments...">
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" data-filter="all">All Items</button>
                    <button class="filter-tab" data-filter="active">Active</button>
                    <button class="filter-tab" data-filter="draft">Drafts</button>
                    <button class="filter-tab" data-filter="closed">Past</button>
                </div>
            </div>

            <!-- Assignments Grid (Reusing student card style but adapted) -->
            <div class="assignments-container" id="assignmentsList">

                <!-- Card 1 -->
                <div class="assignment-card" data-cat="active">
                    <div class="assignment-header">
                        <div class="assignment-title">
                            <h3>Binary Tree Implementation</h3>
                            <p class="subject-tag">CS301</p>
                        </div>
                        <div class="assignment-actions">
                            <button class="btn-secondary edit-btn"><i class="fas fa-edit"></i></button>
                        </div>
                    </div>
                    <div class="assignment-details">
                        <div class="detail-item">
                            <i class="far fa-clock"></i>
                            <span>Due: Jan 30</span>
                        </div>
                        <div class="detail-item status-active">
                            <i class="fas fa-circle"></i>
                            <span>Active</span>
                        </div>
                    </div>
                    <div class="assignment-description">
                        <div class="flex justify-between items-center mt-2">
                            <span class="font-semibold text-sm">18/32 Submitted</span>
                            <span class="text-sm text-muted">56%</span>
                        </div>
                        <div class="mt-1" style="height: 6px; background: #f1f5f9; border-radius: 3px;">
                            <div style="height: 100%; background: #3b82f6; width: 56%; border-radius: 3px;"></div>
                        </div>
                    </div>
                    <div class="flex gap-2 mt-4 pt-2" style="border-top: 1px solid #f1f5f9;">
                        <button onclick="window.location.href='submissions.html?assign=Binary%20Tree%20Implementation'"
                            class="flex-1 py-2 bg-blue-50 text-blue-600 rounded-md font-semibold cursor-pointer"
                            style="background: #eff6ff; color: #3b82f6; padding: 8px; border:none;">Review</button>
                        <button
                            onclick="window.location.href='edit-assignment.html?mode=edit&title=Binary%20Tree%20Implementation&subject=CS301'"
                            class="flex-1 py-2 border border-slate-300 text-slate-500 rounded-md font-semibold cursor-pointer"
                            style="background: transparent; color: #64748b; border: 1px solid #cbd5e1; padding: 8px;">Edit</button>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="assignment-card" data-cat="active">
                    <div class="assignment-header">
                        <div class="assignment-title">
                            <h3>Database Normalization</h3>
                            <p class="subject-tag">CS204</p>
                        </div>
                        <div class="assignment-actions">
                            <button class="btn-secondary edit-btn"><i class="fas fa-edit"></i></button>
                        </div>
                    </div>
                    <div class="assignment-details">
                        <div class="detail-item">
                            <i class="far fa-clock"></i>
                            <span>Due: Feb 02</span>
                        </div>
                        <div class="detail-item status-active">
                            <i class="fas fa-circle"></i>
                            <span>Active</span>
                        </div>
                    </div>
                    <div class="assignment-description">
                        <div class="flex justify-between items-center mt-2">
                            <span class="font-semibold text-sm">12/45 Submitted</span>
                            <span class="text-sm text-muted">26%</span>
                        </div>
                        <div class="mt-1" style="height: 6px; background: #f1f5f9; border-radius: 3px;">
                            <div style="height: 100%; background: #3b82f6; width: 26%; border-radius: 3px;"></div>
                        </div>
                    </div>
                    <div class="flex gap-2 mt-4 pt-2" style="border-top: 1px solid #f1f5f9;">
                        <button onclick="window.location.href='submissions.html?assign=Database%20Normalization'"
                            class="flex-1 py-2 bg-blue-50 text-blue-600 rounded-md font-semibold cursor-pointer"
                            style="background: #eff6ff; color: #3b82f6; padding: 8px; border:none;">Review</button>
                        <button
                            onclick="window.location.href='edit-assignment.html?mode=edit&title=Database%20Normalization&subject=CS204'"
                            class="flex-1 py-2 border border-slate-300 text-slate-500 rounded-md font-semibold cursor-pointer"
                            style="background: transparent; color: #64748b; border: 1px solid #cbd5e1; padding: 8px;">Edit</button>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="assignment-card" data-cat="draft">
                    <div class="assignment-header">
                        <div class="assignment-title">
                            <h3>Graph Algorithms Project</h3>
                            <p class="subject-tag">CS301</p>
                        </div>
                        <div class="assignment-actions">
                            <button class="btn-secondary edit-btn"><i class="fas fa-edit"></i></button>
                        </div>
                    </div>
                    <div class="assignment-details">
                        <div class="detail-item">
                            <i class="far fa-calendar"></i>
                            <span>Sched: Feb 15</span>
                        </div>
                        <div class="detail-item text-muted">
                            <i class="fas fa-circle"></i>
                            <span>Draft</span>
                        </div>
                    </div>
                    <div class="assignment-description">
                        <p>Last edited 2 hours ago</p>
                    </div>
                    <div class="flex gap-2 mt-4 pt-2" style="border-top: 1px solid #f1f5f9;">
                        <button class="flex-1 py-2 bg-primary text-white rounded-md font-semibold cursor-pointer"
                            style="background: #003366; color: white; padding: 8px; border:none;">Publish</button>
                        <button
                            onclick="window.location.href='edit-assignment.html?mode=edit&title=Graph%20Algorithms%20Project&subject=CS301'"
                            class="flex-1 py-2 border border-slate-300 text-slate-500 rounded-md font-semibold cursor-pointer"
                            style="background: transparent; color: #64748b; border: 1px solid #cbd5e1; padding: 8px;">Edit</button>
                    </div>
                </div>

            </div>

        </main>
    </div>

    <!-- Simple JS for Filtering and Sidebar -->
    <script src="../../assets/js/teacher/assignments.js"></script>
    <script src="../../assets/js/teacher/sidebar.js"></script>
    <script>
        // Populate Sidebar (Same as Dashboard for consistency)
        // Sidebar handled by sidebar.js

        // Filter Logic
        const tabs = document.querySelectorAll('.t-filter-tab');
        const cards = document.querySelectorAll('.t-assignment-card');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Active state
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                const filter = tab.dataset.filter;

                cards.forEach(card => {
                    const category = card.dataset.cat;
                    if (filter === 'all' || filter === category) {
                        card.style.display = 'flex';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Create Button Logic - handled inline
        // document.getElementById('createBtn').addEventListener('click', () => { ... });
    </script>
</body>

</html>