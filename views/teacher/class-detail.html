<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Management | CORE Campus</title>
    <link rel="stylesheet" href="../../assets/css/shared/sidebar.css">
    <link rel="stylesheet" href="../../assets/css/student/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../../assets/css/teacher/class-detail.css">
    <link rel="stylesheet" href="../../assets/css/shared/utilities.css">
    <link rel="stylesheet" href="../../assets/css/components/profile.css">
</head>

<body>

    <div class="app-container">
        <!-- Sidebar -->
        <div id="sidebar-container"></div>

        <main class="main-content">

            <div class="class-banner" id="classBanner">
                <h1 id="className">Class Name</h1>
                <p id="classCode">CS101 • Dr. Sharma</p>
            </div>

            <div class="stream-container">

                <!-- Left: Class Info -->
                <aside>
                    <div class="class-code-box">
                        <h4 style="margin: 0; color: #64748b; font-size: 0.85rem;">Class Code</h4>
                        <div class="class-code-display">CS303-A</div>
                        <div style="font-size: 0.85rem; color: #64748b;">Share with students</div>
                    </div>

                    <div class="class-code-box">
                        <h4 style="margin: 0 0 1rem 0; color: #64748b; font-size: 0.85rem;">Upcoming</h4>
                        <div style="font-size: 0.9rem; margin-top: 10px;">No work due soon</div>
                        <div style="margin-top: 1rem; text-align: right;">
                            <a href="assignments.html"
                                style="font-size: 0.85rem; color: #003366; font-weight: 600;">View All</a>
                        </div>
                    </div>
                </aside>

                <!-- Right: Stream -->
                <section class="stream-feed">

                    <div class="post-input">
                        <textarea id="announceText" rows="2"
                            placeholder="Announce something to your class..."></textarea>
                        <div class="post-actions">
                            <div style="display: flex; gap: 10px;">
                                <button style="background:none; border:none; cursor:pointer; color:#64748b;"><i
                                        class="fas fa-paperclip"></i></button>
                                <button style="background:none; border:none; cursor:pointer; color:#64748b;"><i
                                        class="fab fa-youtube"></i></button>
                            </div>
                            <button class="btn-primary" id="postBtn" style="padding: 8px 20px;">Post</button>
                        </div>
                    </div>

                    <div id="streamPosts">
                        <!-- Post 1 -->
                        <div class="stream-post">
                            <div class="post-header">
                                <div
                                    style="width: 40px; height: 40px; background: #0f172a; border-radius: 50%; color: white; display:flex; align-items:center; justify-content:center;">
                                    T</div>
                                <div>
                                    <div class="post-author">Dr. Sharma</div>
                                    <div class="post-date">Just now</div>
                                </div>
                            </div>
                            <div class="post-content">
                                Welcome to the new semester! I've uploaded the course outline.
                            </div>
                        </div>
                    </div>

                </section>

            </div>

        </main>
    </div>

    <script src="../../assets/js/teacher/sidebar.js"></script>
    <script>
        // Simple Dynamic Content based on URL Params
        const urlParams = new URLSearchParams(window.location.search);
        const code = urlParams.get('code') || 'CS101';
        const name = urlParams.get('name') || 'Class Name';

        document.getElementById('className').innerText = name;
        document.getElementById('classCode').innerText = `${code} • Dr. Sharma`;

        // Adjust Banner
        const banner = document.getElementById('classBanner');
        if (name.includes('DBMS')) banner.style.background = 'linear-gradient(135deg, #7c3aed, #a78bfa)';
        else if (name.includes('DAA')) banner.style.background = 'linear-gradient(135deg, #059669, #34d399)';
        else if (name.includes('Lab')) banner.style.background = 'linear-gradient(135deg, #db2777, #f472b6)';

        // Post Logic
        document.getElementById('postBtn').addEventListener('click', () => {
            const text = document.getElementById('announceText').value;
            if (text.trim()) {
                const newPost = `
                    <div class="stream-post">
                        <div class="post-header">
                            <div style="width: 40px; height: 40px; background: #0f172a; border-radius: 50%; color: white; display:flex; align-items:center; justify-content:center;">T</div>
                            <div>
                                <div class="post-author">Dr. Sharma</div>
                                <div class="post-date">Just now</div>
                            </div>
                        </div>
                        <div class="post-content">
                            ${text}
                        </div>
                    </div>
                 `;
                document.getElementById('streamPosts').insertAdjacentHTML('afterbegin', newPost);
                document.getElementById('announceText').value = '';
            }
        });
    </script>
</body>

</html>